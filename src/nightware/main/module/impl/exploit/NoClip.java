package nightware.main.module.impl.exploit;

import com.darkmagician6.eventapi.EventTarget;
import nightware.main.event.misc.EventFullCube;
import nightware.main.event.misc.EventPush;
import nightware.main.event.player.EventUpdate;
import nightware.main.module.Category;
import nightware.main.module.Module;
import nightware.main.module.ModuleAnnotation;
import nightware.main.module.Utils;
import nightware.main.module.setting.impl.NumberSetting;

@ModuleAnnotation(
   name = "NoClip",
   category = Category.EXPLOIT
)
public class NoClip extends Module {
   public static NumberSetting perdun = new NumberSetting("Скорость", 0.6F, 0.1F, 2.0F, 1);
   @Override
   public void onEnable() {
      super.onEnable();

   }

   @EventTarget
   public void onFullCube(EventFullCube event) {
      if (mc.world != null) {
         event.setCancelled(true);
      }
   }

   @EventTarget
   public void onPush(EventPush event) {
      event.setCancelled(true);
   }

   @EventTarget
   public void onLivingUpdate(EventUpdate event) {
      if (mc.player != null) {
         mc.player.noClip = true;
         mc.player.motionY = 0;
         mc.player.onGround = false;
         mc.player.capabilities.isFlying = false;
         Utils.setSpeed(perdun.get());
         if (mc.gameSettings.keyBindJump.isKeyDown()) {
            mc.player.motionY += 0.1;
         }
         if (mc.gameSettings.keyBindSneak.isKeyDown()) {
            mc.player.motionY -= 0.1;
         }
         event.setCancelled(false);
      }
   }
}
